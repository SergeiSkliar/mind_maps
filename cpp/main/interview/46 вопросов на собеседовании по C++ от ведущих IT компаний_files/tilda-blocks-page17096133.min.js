window.isMobile=!1;if(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)){window.isMobile=!0}
window.isFirefox=/firefox/i.test(navigator.userAgent);window.isOpera=(!!window.opr&&!!window.opr.addons)||!!window.opera||navigator.userAgent.indexOf(' OPR/')>=0;function t_throttle(fn,threshhold,scope){var last;var deferTimer;threshhold||(threshhold=250);return function(){var context=scope||this;var now=+new Date();var args=arguments;if(last&&now<last+threshhold){clearTimeout(deferTimer);deferTimer=setTimeout(function(){last=now;fn.apply(context,args)},threshhold)}else{last=now;fn.apply(context,args)}}}
function t698_onSuccess(form){if(!(form instanceof Element))form=form[0];var inputsWrapper=form.querySelector('.t-form__inputsbox');var inputsWrapperStyle=getComputedStyle(inputsWrapper,null);var inputsWrapperPaddingTop=parseInt(inputsWrapperStyle.paddingTop)||0;var inputsWrapperPaddingBottom=parseInt(inputsWrapperStyle.paddingBottom)||0;var inputsWrapperHeight=inputsWrapper.clientHeight-(inputsWrapperPaddingTop+inputsWrapperPaddingBottom);var inputsOffset=inputsWrapper.getBoundingClientRect().top+window.pageYOffset;var inputsBottom=inputsWrapperHeight+inputsOffset;var successBox=form.querySelector('.t-form__successbox');var successBoxOffset=successBox.getBoundingClientRect().top+window.pageYOffset;var target=0;var windowHeight=window.innerHeight;var body=document.body;var html=document.documentElement;var documentHeight=Math.max(body.scrollHeight,body.offsetHeight,html.clientHeight,html.scrollHeight,html.offsetHeight);if(window.innerWidth>960){target=successBoxOffset-200}else{target=successBoxOffset-100}
var tildaLabel=document.querySelector('.t-tildalabel');if(successBoxOffset>window.scrollY||(documentHeight-inputsBottom)<(windowHeight-100)){inputsWrapper.classList.add('t698__inputsbox_hidden');setTimeout(function(){if(windowHeight>documentHeight&&tildaLabel){t698__fadeOut(tildaLabel)}},300)}else{t698__scroll(target);setTimeout(function(){inputsWrapper.classList.add('t698__inputsbox_hidden')},400)}
var successUrl=$(form).data('success-url');if(successUrl){setTimeout(function(){window.location.href=successUrl},500)}}
function t698__fadeOut(el){if(el.style.display==='none')return;var opacity=1;var timer=setInterval(function(){el.style.opacity=opacity;opacity-=0.1;if(opacity<=0.1){clearInterval(timer);el.style.display='none';el.style.opacity=null}},50)}
function t698__scroll(target){var duration=400;var start=(window.pageYOffset||document.documentElement.scrollTop)-(document.documentElement.clientTop||0);var change=target-start;var currentTime=0;var increment=16;document.body.setAttribute('data-scrollable','true');function t698__easeInOutCubic(currentTime){if((currentTime/=duration/2)<1){return change/2*currentTime*currentTime*currentTime+start}else{return change/2*((currentTime-=2)*currentTime*currentTime+2)+start}}
function t698__animateScroll(){currentTime+=increment;window.scrollTo(0,t698__easeInOutCubic(currentTime));if(currentTime<duration){setTimeout(t698__animateScroll,increment)}else{document.body.removeAttribute('data-scrollable')}}
t698__animateScroll()}
function t698_fixcontentheight(recId){var rec=document.getElementById('rec'+recId);var cover=rec.querySelector('.t-cover');var coverFilter=rec.querySelector('.t-cover__filter');var coverCarrier=rec.querySelector('.t-cover__carrier');var coverWrapper=rec.querySelector('.t-cover__wrapper');var coverContainer=rec.querySelector('.t-cover__container');var coverStyle=getComputedStyle(cover,null);var coverPaddingTop=parseInt(coverStyle.paddingTop)||0;var coverPaddingBottom=parseInt(coverStyle.paddingBottom)||0;var coverHeight=cover.clientHeight-(coverPaddingTop+coverPaddingBottom);var hookContent=rec.querySelector('div[data-hook-content]');var hookContentHeight=hookContent.offsetHeight;if(hookContentHeight>300&&coverHeight<hookContentHeight){var newHookContentHeight=hookContentHeight+120;if(newHookContentHeight>1000)newHookContentHeight+=100;console.log('auto correct cover height: '+newHookContentHeight);cover.style.height=newHookContentHeight+'px';if(coverFilter)coverFilter.style.height=newHookContentHeight+'px';if(coverCarrier)coverCarrier.style.height=newHookContentHeight+'px';if(coverWrapper)coverWrapper.style.height=newHookContentHeight+'px';if(coverContainer)coverContainer.style.height=newHookContentHeight+'px';if(window.isMobile===!1){setTimeout(function(){if(coverCarrier.querySelector('iframe')){console.log('correct video from cover_fixcontentheight');setWidthHeightYoutubeVideo(coverCarrier,newHookContentHeight+'px')}},2000)}}}
function t794_init(recid){var rec=document.getElementById('rec'+recid);var menu=rec?rec.querySelector('.t794'):null;var hook=menu?menu.getAttribute('data-tooltip-hook'):'';if(!hook)return;var hookLinks=document.querySelectorAll('a[href="'+hook+'"]');hookLinks=Array.prototype.filter.call(hookLinks,function(hookLink){var isSubmenuAllowed=hookLink.getAttribute('data-submenu-disallowed')!=='yes';if(isSubmenuAllowed){hookLink.classList.add('t794__tm-link');hookLink.setAttribute('data-tooltip-menu-id',recid);return!0}
return!1});t794_addArrow(recid,hookLinks);t794_setUpMenu(recid,hookLinks);t794_highlight()}
function t794_setUpMenu(recid,hookLinks){var rec=document.getElementById('rec'+recid);var submenu=rec?rec.querySelector('.t794__tooltip-menu'):null;if(!submenu)return;var content=submenu.querySelector('.t794__content');if(window.isMobile){t794_setUpMenu_mobile(recid,hookLinks,submenu)}else{t794_setUpMenu_desktop(recid,hookLinks,submenu)}
window.addEventListener('scroll',t_throttle(function(){if(content){content.addEventListener('mouseleave',function(){if(submenu.classList.contains('t794__tooltip-menu_show')){t794_hideSubmenu(submenu)}})}},300));var tooltipLinks=document.querySelectorAll('.t794__tooltip-menu a[href*="#"]');Array.prototype.forEach.call(tooltipLinks,function(tooltipLink){tooltipLink.addEventListener('click',function(){t794_hideSubmenu(submenu);var menuList=document.querySelectorAll('.t450, .t199__mmenu, .t280, .t282, .t204__burger, .t451, .t466');Array.prototype.forEach.call(menuList,function(menu){var event=document.createEvent('Event');event.initEvent('clickedAnchorInTooltipMenu',!0,!0);menu.dispatchEvent(event)});Array.prototype.forEach.call(tooltipLinks,function(link){link.classList.remove('t-active')});tooltipLink.classList.add('t-active')})})}
function t794_setUpMenu_mobile(recid,hookLinks,submenu){var rec=document.getElementById('rec'+recid);var menu=rec?rec.querySelector('.t794'):null;if(!menu)return;var verticalIndent=menu?menu.getAttribute('data-tooltip-margin'):'';hookLinks.forEach(function(hookLink){hookLink.addEventListener('click',function(e){e.preventDefault();if(submenu&&submenu.classList.contains('t794__tooltip-menu_show')){t794_hideSubmenu(submenu)}else{t794_showSubmenu(hookLink,submenu,verticalIndent)}})});document.addEventListener('click',function(e){var currentAnchor=e.target.closest('.t794__tm-link');if(currentAnchor&&currentAnchor.getAttribute('data-tooltip-menu-id')!==recid&&submenu&&submenu.classList.contains('t794__tooltip-menu_show')){t794_hideSubmenu(submenu)}
var insideMenu=e.target.closest('.t794__tooltip-menu');if(!insideMenu&&!currentAnchor&&submenu&&submenu.classList.contains('t794__tooltip-menu_show')){t794_hideSubmenu(submenu)}})}
function t794_setUpMenu_desktop(recid,hookLinks,submenu){var rec=document.getElementById('rec'+recid);var menu=rec?rec.querySelector('.t794'):null;var verticalIndent=menu?menu.getAttribute('data-tooltip-margin'):'';var timer;var hooksAndSubmenu=hookLinks.concat(submenu);hooksAndSubmenu.forEach(function(el){el.addEventListener('mouseover',function(){if(el.classList.contains('t794__tooltip-menu')&&!el.classList.contains('t794__tooltip-menu_show'))return;if(timer)clearTimeout(timer);if(el.classList.contains('t794__tooltip-menu')&&el.classList.contains('t794__tooltip-menu_show'))return;t794_showSubmenu(el,submenu,verticalIndent)});el.addEventListener('mouseout',function(){timer=setTimeout(function(){t794_hideSubmenu(submenu)},300)})});hookLinks.forEach(function(hookLink){hookLink.addEventListener('click',function(e){e.preventDefault()})})}
function t794_showSubmenu(currentAnchor,submenu,verticalIndent){submenu.style.display='block';var submenuHeight=submenu.offsetHeight;var submenuWidth=submenu.offsetWidth;submenu.style.display='';var anchorHeight=t794_getValueWithoutPadding(currentAnchor,'height');var anchorWidth=t794_getValueWithoutPadding(currentAnchor,'width');if(currentAnchor.classList.contains('t-btn')){anchorWidth=currentAnchor.offsetWidth}
var scrollTop=window.pageYOffset;var anchorLeft=currentAnchor.getBoundingClientRect().left+window.pageXOffset;var anchorTop=currentAnchor.getBoundingClientRect().top+window.pageYOffset;var parentZeroMenu=currentAnchor.closest('.t396__artboard');if(parentZeroMenu&&parentZeroMenu.classList.contains('t396__artboard_scale')&&window.tn_scale_factor&&!window.isFirefox&&!window.isOpera){anchorTop*=window.tn_scale_factor}
submenu.setAttribute('data-pos-fixed','no');var parentMenu=currentAnchor.closest('[data-menu="yes"]');if(parentMenu&&(parentMenu.style.position==='fixed'||window.getComputedStyle(parentMenu).position==='fixed')){submenu.setAttribute('data-pos-fixed','yes')}
var menuFixed=submenu.getAttribute('data-pos-fixed');var submenuContent=submenu.querySelector('.t794__content');if(verticalIndent){verticalIndent=parseInt(verticalIndent,10);verticalIndent+=10}
var axisY;if(menuFixed==='yes'){axisY=(anchorTop-scrollTop)+anchorHeight+verticalIndent;submenu.style.position='fixed';submenu.classList.remove('t794__tooltip-menu_top');submenu.classList.add('t794__tooltip-menu_bottom');if(submenuContent)submenuContent.maxHeight='calc(100vh - '+axisY+'px)'}else{axisY=anchorTop+anchorHeight+verticalIndent;submenu.style.position='absolute';var topSpace=anchorTop-scrollTop;var bottomSpace=window.innerHeight-topSpace;if(axisY+submenuHeight>scrollTop+window.innerHeight&&topSpace>bottomSpace){axisY=axisY-submenuHeight-anchorHeight-verticalIndent*2;submenu.classList.remove('t794__tooltip-menu_bottom');submenu.classList.add('t794__tooltip-menu_top')}else{submenu.classList.remove('t794__tooltip-menu_top');submenu.classList.add('t794__tooltip-menu_bottom')}}
var axisX=anchorLeft;if(parentZeroMenu&&parentZeroMenu.classList.contains('t396__artboard_scale')&&window.tn_scale_factor){axisX=window.isFirefox||window.isOpera?axisX:axisX*window.tn_scale_factor;anchorWidth=anchorWidth*window.tn_scale_factor}
if(axisX+submenuWidth/2<window.innerWidth){axisX=axisX+(anchorWidth-submenuWidth)/2;if(axisX<0){axisX=10}}else{axisX=window.innerWidth-submenuWidth-10}
submenu.style.display='block';submenu.style.left=axisX+'px';submenu.style.top=axisY+'px';submenu.offsetHeight;submenu.classList.add('t794__tooltip-menu_show');currentAnchor.classList.add('t794__tm-link_active')}
function t794_hideSubmenu(submenu){submenu.style.display='';submenu.style.left='';submenu.style.top='';submenu.classList.remove('t794__tooltip-menu_show');var activeLinks=document.querySelectorAll('.t794__tm-link_active');Array.prototype.forEach.call(activeLinks,function(activeLink){activeLink.classList.remove('t794__tm-link_active')})}
function t794_addArrow(recid,hookLinks){var rec=document.getElementById('rec'+recid);var menu=rec?rec.querySelector('.t794'):null;var isArrowAppend=menu.getAttribute('data-add-arrow');if(!isArrowAppend)return;hookLinks.forEach(function(hookLink){var arrow=document.createElement('div');arrow.classList.add('t794__arrow');hookLink.appendChild(arrow);var isZero=hookLink.classList.contains('tn-atom');var hasCustomBorderColor=window.getComputedStyle(hookLink).borderColor!=='rgba(0, 0, 0, 0)';if(isZero&&!hasCustomBorderColor){hookLink.style.borderColor='initial';hookLink.style.border='none'}})}
function t794_highlight(){var url=window.location.href;var pathname=window.location.pathname;var hash=window.location.hash;if(url.substr(url.length-1)==='/'){url=url.slice(0,-1)}
if(pathname.substr(pathname.length-1)==='/'){pathname=pathname.slice(0,-1)}
if(pathname.charAt(0)==='/'){pathname=pathname.slice(1)}
if(pathname===''){pathname='/'}
var shouldBeActiveElements=document.querySelectorAll('.t794__list_item a[href=\''+url+'\'], '+'.t794__list_item a[href=\''+url+'/\'], '+'.t794__list_item a[href=\''+pathname+'\'], '+'.t794__list_item a[href=\'/'+pathname+'\'], '+'.t794__list_item a[href=\''+pathname+'/\'], '+'.t794__list_item a[href=\'/'+pathname+'/\']'+(hash?', .t794__list_item a[href="'+hash+'"]':''));Array.prototype.forEach.call(shouldBeActiveElements,function(link){link.classList.add('t-active')})}
function t794_getValueWithoutPadding(el,value){if(!el)return 0;var elWidth=el.offsetWidth||parseInt(window.getComputedStyle(el).width,10);var elHeight=el.offsetHeight||parseInt(window.getComputedStyle(el).height,10);switch(value){case 'width':var paddingLeft=el.style.paddingLeft||parseInt(window.getComputedStyle(el).paddingLeft,10);var paddingRight=el.style.paddingLeft||parseInt(window.getComputedStyle(el).paddingRight,10);return elWidth-(paddingLeft+paddingRight);case 'height':var paddingTop=el.style.paddingTop||parseInt(window.getComputedStyle(el).paddingTop,10);var paddingBottom=el.style.paddingBottom||parseInt(window.getComputedStyle(el).paddingBottom,10);return elHeight-(paddingTop+paddingBottom)}}
function t978_init(recid,cols,openOnClick){var rec=document.getElementById('rec'+recid);var menu=rec?rec.querySelector('.t978'):null;var hook=menu?menu.getAttribute('data-tooltip-hook'):'';if(!hook)return;var hookLinks=document.querySelectorAll('a[href="'+hook+'"]');var hookLinkParent=hookLinks.length?hookLinks[0].closest('[data-menu]'):null;var isHookLinkParentFixed=hookLinkParent?hookLinkParent.style.position==='fixed'||window.getComputedStyle(hookLinkParent).position==='fixed':!1;var tooltipMenu=document.querySelectorAll('#rec'+recid+' .t978__tooltip-menu');Array.prototype.forEach.call(tooltipMenu,function(tooltip){var isPosFixed=isHookLinkParentFixed?'yes':'no';tooltip.setAttribute('data-pos-fixed',isPosFixed)});Array.prototype.forEach.call(hookLinks,function(hookLink){hookLink.classList.add('t978__tm-link');hookLink.setAttribute('data-tooltip-menu-id',recid)});t978_addArrow(recid,hookLinks);t978_setUpMenu(recid,hookLinks,cols,openOnClick);t978_findActiveItem()}
function t978_preview(recid,cols){var rec=document.getElementById('rec'+recid);if(!rec)return;var tooltipMenu=rec.querySelector('.t978__tooltip-menu');var content=tooltipMenu?tooltipMenu.querySelector('.t978__content'):null;var submenuContainer=content?content.querySelector('.t978__submenu-container'):null;t978_divideMenu(recid,cols);var submenuActiveLink=content?content.querySelectorAll('.t978__menu-link'):[];submenuActiveLink=Array.prototype.filter.call(submenuActiveLink,function(activeLink){return(activeLink.hasAttribute('data-menu-submenu-hook')&&activeLink.getAttribute('data-menu-submenu-hook'))});var submenuHook=submenuActiveLink.length?submenuActiveLink[0].getAttribute('data-menu-submenu-hook'):'';if(!submenuHook)return;var activeSubmenuContainer=content?content.querySelector('.t978__submenu-wrapper[data-submenu-hook="'+submenuHook+'"]'):null;var activeSubmenu=activeSubmenuContainer?activeSubmenuContainer.querySelector('.t978__submenu'):null;if(window.innerWidth>980){if(activeSubmenuContainer)activeSubmenuContainer.style.display='block';if(submenuContainer)submenuContainer.style.display='block';if(activeSubmenu)activeSubmenu.classList.add('t978__submenu_show')}}
function t978_divideMenu(recid,rows){var rec=document.getElementById('rec'+recid);if(!rec)return;if(!rows)rows=1;var wrapperList=rec.querySelectorAll('.t978__tooltip-menu .t978__content .t978__submenu-wrapper');Array.prototype.forEach.call(wrapperList,function(wrapper){var items=wrapper.querySelectorAll('.t978__submenu-item');var list=wrapper.querySelector('.t978__submenu-list');var minItemsCountInRow=Math.floor(items.length/rows);var remainder=items.length%rows;var rowClass='t978__menu-col_'+rows;for(var i=0;i<rows;i++){var row=document.createElement('div');row.classList.add('t978__menu-col');row.classList.add(rowClass);if(list)list.appendChild(row)}
var listRows=list?list.querySelectorAll('.t978__menu-col'):[];var pointer=0;Array.prototype.forEach.call(listRows,function(row,i){var itemsArray=Array.prototype.slice.call(items);var itemPerCol=i<remainder?minItemsCountInRow+1:minItemsCountInRow;var slicedItems=itemsArray.splice(pointer,pointer+itemPerCol);slicedItems.forEach(function(el){row.appendChild(el)});pointer+=itemPerCol})})}
function t978_setUpMenu(recid,hookLinks,cols,openOnClick){hookLinks=Array.prototype.slice.call(hookLinks);var rec=document.getElementById('rec'+recid);var submenu=rec?rec.querySelector('.t978__tooltip-menu'):null;if(!submenu)return;var content=submenu.querySelector('.t978__content');var menu=rec.querySelector('.t978');var verticalIndent=menu?menu.getAttribute('data-tooltip-margin'):'';t978_divideMenu(recid,cols);if(window.innerWidth>980){t978_addEventsDesktop(submenu,hookLinks,verticalIndent,openOnClick)}else{t978_addEventsMobile(submenu,hookLinks,verticalIndent,openOnClick)}
window.addEventListener('scroll',t_throttle(function(){if(content){content.addEventListener('mouseleave',function(){var activeHookLinks=hookLinks.length?hookLinks.filter(function(link){return link.classList.contains('t978__tm-link_active')}):[];var nextEl=activeHookLinks.length?activeHookLinks[0].nextElementSibling:null;if(submenu.classList.contains('t978__tooltip-menu_show')||(nextEl&&nextEl.classList.contains('t978__tooltip-menu_mobile'))){t978_hideTooltipmenu(nextEl)}})}},300));var links=document.querySelectorAll('.t978__tooltip-menu a[href*="#"]');links=Array.prototype.slice.call(links);links.forEach(function(link){link.addEventListener('click',function(){t978_hideTooltipmenu(submenu,link);links.forEach(function(element){element.classList.remove('t-active')});link.classList.add('t-active')})});var elements=document.querySelectorAll('.t450, .t199__mmenu, .t280, .t282, .t204__burger, .t451, .t466');var event=document.createEvent('Event');event.initEvent('clickedAnchorInTooltipMenu',!0,!0);document.addEventListener('click',function(e){if(e.target.closest('.t978__tooltip-menu a[href*="#"]')){Array.prototype.forEach.call(elements,function(el){el.dispatchEvent(event)})}})}
function t978_addEventsDesktop(tooltipMenu,hookLinks,verticalIndent,openOnClick){if(!tooltipMenu)return;hookLinks=Array.prototype.slice.call(hookLinks);var menuLinks=tooltipMenu.querySelector('.t978__menu-link');var submenuContainer=tooltipMenu.querySelector('.t978__submenu-container');var submenuWrapper=tooltipMenu.querySelectorAll('.t978__submenu-wrapper');var timer;var hooksAndMenu=hookLinks.concat(tooltipMenu);hooksAndMenu.forEach(function(element){element.addEventListener('mouseover',function(e){e.preventDefault();if(element.classList.contains('t978__tooltip-menu')&&!element.classList.contains('t978__tooltip-menu_show'))return;clearTimeout(timer);if(element.classList.contains('t978__tooltip-menu')&&tooltipMenu.classList.contains('t978__tooltip-menu_show'))return;t978_showTooltipmenu(element,tooltipMenu,verticalIndent);t978_addSubmenuEvents(tooltipMenu,openOnClick)});element.addEventListener('mouseout',function(){timer=setTimeout(function(){t978_hideTooltipmenu(tooltipMenu);t978_resetSubmenu(menuLinks,submenuWrapper,submenuContainer)},300)})});window.addEventListener('resize',t_throttle(function(){var tooltipMenuMobile=document.querySelector('.t978__tooltip-menu_mobile');if(tooltipMenuMobile)t978_hideTooltipmenu(tooltipMenuMobile)},300))}
function t978_addEventsMobile(tooltipMenu,hookLinks,verticalIndent,openOnClick){hookLinks.forEach(function(hookLink){hookLink.addEventListener('click',function(e){e.preventDefault();var activeHookLink=hookLinks.filter(function(el){return el.classList.contains('t978__tm-link_active')});var nextAfterActiveHookLink=activeHookLink.length?activeHookLink[0].nextElementSibling:null;if(tooltipMenu&&tooltipMenu.classList.contains('t978__tooltip-menu_show')||(nextAfterActiveHookLink&&nextAfterActiveHookLink.classList.contains('t978__tooltip-menu_mobile'))){t978_hideTooltipmenu(nextAfterActiveHookLink,hookLink);t978_addSubmenuEvents(nextAfterActiveHookLink,openOnClick)}else{var tooltipMobile=tooltipMenu?tooltipMenu.cloneNode(!0):null;if(tooltipMobile)tooltipMobile.classList.add('t978__tooltip-menu_mobile');t978_showTooltipmenu(hookLink,tooltipMobile,verticalIndent);t978_addSubmenuEvents(tooltipMobile,openOnClick)}})})}
function t978_showTooltipmenu(currentAnchor,tooltipmenu,verticalIndent){var menu=tooltipmenu?tooltipmenu.closest('.t228'):null;if(window.innerWidth<=980){if(currentAnchor&&tooltipmenu)currentAnchor.insertAdjacentElement('afterend',tooltipmenu);if(menu){var event=document.createEvent('Event');event.initEvent('overflow',!0,!0);menu.dispatchEvent(event)}
var parent=currentAnchor?currentAnchor.parentElement:null;var isInsideZero=parent?currentAnchor.parentElement.classList.contains('t396__elem'):!1;var parentOffsetLeft=parent?parent.getBoundingClientRect().left:0;var needReposition=window.innerWidth-parentOffsetLeft<150;if(tooltipmenu){tooltipmenu.style.position=isInsideZero?'absolute':'static';tooltipmenu.style.left=needReposition?'auto':'0';tooltipmenu.style.right=needReposition?'0':'auto'}
if(tooltipmenu)tooltipmenu.classList.add('t978__tooltip-menu_show');if(tooltipmenu&&(tooltipmenu.closest('.t280')||tooltipmenu.closest('.t450')||tooltipmenu.closest('.t451'))){tooltipmenu.style.display='block';var allTooltipMenu=document.querySelectorAll('.t978__tooltip-menu_mobile');Array.prototype.forEach.call(allTooltipMenu,function(tooltipMenu){if(tooltipMenu===tooltipmenu)return;var link=tooltipMenu.previousElementSibling;if(link)link.classList.remove('t978__tm-link_active');t978_removeEl(tooltipMenu)})}else{var otherTooltipMenu=document.querySelectorAll('.t978__tooltip-menu_mobile');otherTooltipMenu=Array.prototype.filter.call(otherTooltipMenu,function(tooltip){return tooltip!==tooltipmenu});otherTooltipMenu.forEach(function(el){var link=el.previousElementSibling;if(link)link.classList.remove('t978__tm-link_active');t978_slideUp(el)});t978_slideDown(tooltipmenu)}
if(currentAnchor)currentAnchor.classList.add('t978__tm-link_active');if(window.lazy==='y'){t_lazyload_update()}}else{t978_positionTooltipmenu(currentAnchor,tooltipmenu,verticalIndent);if(window.lazy==='y'){t_lazyload_update()}}}
function t978_positionTooltipmenu(currentAnchor,tooltipMenu,verticalIndent){t978_positionTooltipmenuX(currentAnchor,tooltipMenu);t978_positionTooltipmenuY(currentAnchor,tooltipMenu,verticalIndent);if(tooltipMenu)tooltipMenu.style.display='block';if(tooltipMenu)tooltipMenu.classList.add('t978__tooltip-menu_show');if(currentAnchor)currentAnchor.classList.add('t978__tm-link_active')}
function t978_positionTooltipmenuX(currentAnchor,tooltipMenu){if(!tooltipMenu)return;tooltipMenu.style.display='block';var menu=tooltipMenu.querySelector('.t978__menu');var corner=tooltipMenu.querySelector('.t978__tooltip-menu-corner');var cornerBorder=tooltipMenu.querySelector('.t978__tooltip-menu-corner-border');var winWidth=window.innerWidth;var menuWidth=menu.offsetWidth;var tooltipmenuWidth=tooltipMenu.offsetWidth;var anchorWidth=t978_getValueWithoutPadding(currentAnchor,'width');if(currentAnchor&&currentAnchor.classList.contains('t-btn')){anchorWidth=currentAnchor.offsetWidth}
var anchorLeft=currentAnchor.getBoundingClientRect().left+window.pageXOffset;tooltipMenu.style.display='';var cornerLeft;var menuX;var initialMenuX;var anchorCenter;var menuCenter;var arrowHeight=10;var menuPos='left';var menuWindowMargin=10;var minMenuWidth=200;initialMenuX=(anchorLeft+anchorWidth/2)-menuWidth/2;var anchorX=anchorLeft;if((initialMenuX+menuWidth)>winWidth-minMenuWidth){menuPos='right';if(menu)menu.style.order='1';anchorX=winWidth-(anchorLeft+anchorWidth);menuX=winWidth-initialMenuX-tooltipmenuWidth;if(initialMenuX+tooltipmenuWidth>winWidth-menuWindowMargin){menuX=menuWindowMargin}}else{menuX=initialMenuX;if(initialMenuX<menuWindowMargin){menuX=menuWindowMargin}}
cornerLeft=menuWidth/2-arrowHeight/2;anchorCenter=anchorX+anchorWidth/2;menuCenter=menuX+menuWidth/2;if(menuCenter!==anchorCenter){if(menuX<anchorX){cornerLeft=(anchorX-menuX)+anchorWidth/2-arrowHeight/2}else{cornerLeft=anchorWidth/2-arrowHeight/2}}
if(corner)corner.style[menuPos]=cornerLeft+'px';if(cornerBorder)cornerBorder.style[menuPos]=cornerLeft+'px';if(tooltipMenu)tooltipMenu.style[menuPos]=menuX+'px'}
function t978_positionTooltipmenuY(currentAnchor,tooltipMenu,verticalIndent){var tooltipmenuHeight=tooltipMenu?tooltipMenu.offsetHeight:null;var scrollTop=window.pageYOffset;var anchorHeight=t978_getValueWithoutPadding(currentAnchor,'height');var menuFixed=tooltipMenu?tooltipMenu.getAttribute('data-pos-fixed'):null;var corner=tooltipMenu?tooltipMenu.querySelector('.t978__tooltip-menu-corner'):null;var cornerBorder=tooltipMenu?tooltipMenu.querySelector('.t978__tooltip-menu-corner-border'):null;var currentAnchorTopPos=currentAnchor?currentAnchor.getBoundingClientRect().top:0;var arrowHeight=10;var verticalIndentDefault=25;if(verticalIndent){verticalIndent=parseInt(verticalIndent,10);verticalIndent+=arrowHeight}else{verticalIndent=verticalIndentDefault}
var axisY;if(menuFixed==='yes'){axisY=currentAnchorTopPos+anchorHeight+verticalIndent;if(tooltipMenu)tooltipMenu.style.position='fixed'}else{axisY=currentAnchorTopPos+scrollTop+anchorHeight+verticalIndent}
if(axisY+tooltipmenuHeight>scrollTop+document.documentElement.clientHeight&&axisY>=tooltipmenuHeight&&axisY-scrollTop>tooltipmenuHeight){axisY=Math.max(axisY-tooltipmenuHeight-anchorHeight-verticalIndent*2,scrollTop);if(tooltipMenu)tooltipMenu.classList.remove('t978__tooltip-menu_bottom');if(tooltipMenu)tooltipMenu.classList.add('t978__tooltip-menu_top');if(corner)corner.classList.remove('t978__tooltip-menu-corner_bottom');if(corner)corner.classList.add('t978__tooltip-menu-corner_top');if(cornerBorder)cornerBorder.classList.remove('t978__tooltip-menu-corner-border_bottom');if(cornerBorder)cornerBorder.classList.add('t978__tooltip-menu-corner-border_top')}else{if(tooltipMenu)tooltipMenu.classList.remove('t978__tooltip-menu_top');if(tooltipMenu)tooltipMenu.classList.add('t978__tooltip-menu_bottom');if(corner)corner.classList.remove('t978__tooltip-menu-corner_top');if(corner)corner.classList.add('t978__tooltip-menu-corner_bottom');if(cornerBorder)cornerBorder.classList.remove('t978__tooltip-menu-corner-border_top');if(cornerBorder)cornerBorder.classList.add('t978__tooltip-menu-corner-border_bottom')}
if(tooltipMenu)tooltipMenu.style.top=axisY+'px'}
function t978_hideTooltipmenu(tooltipmenu,link){var menu=tooltipmenu?tooltipmenu.querySelector('.t978__menu'):null;var corner=tooltipmenu?tooltipmenu.querySelector('.t978__tooltip-menu-corner'):null;var cornerBorder=tooltipmenu?tooltipmenu.querySelector('.t978__tooltip-menu-corner-border'):null;var tooltipmenuParent=tooltipmenu?tooltipmenu.parentElement:null;var activeLink=tooltipmenuParent?tooltipmenuParent.querySelector('.t978__tm-link_active'):null;var menuHookLink=link?link:activeLink;if(tooltipmenu&&tooltipmenu.classList.contains('t978__tooltip-menu_mobile')){if(tooltipmenu.closest('.t280')||tooltipmenu.closest('.t450')||tooltipmenu.closest('.t451')){tooltipmenu.style.display='none';t978_removeEl(tooltipmenu)}else{t978_slideUp(tooltipmenu,300,function(){t978_removeEl(tooltipmenu)})}
if(menuHookLink)menuHookLink.classList.remove('t978__tm-link_active')}else{var content=tooltipmenu?tooltipmenu.querySelector('.t978__content'):null;if(tooltipmenu)tooltipmenu.style.display='';if(tooltipmenu)tooltipmenu.style.left='';if(tooltipmenu)tooltipmenu.style.right='';if(tooltipmenu)tooltipmenu.style.top='';if(tooltipmenu)tooltipmenu.style.width='';if(menu)menu.style.order='';if(content)content.style.overflowY='';if(content)content.style.height='';if(corner)corner.style.left='';if(corner)corner.style.right='';if(cornerBorder)cornerBorder.style.left='';if(cornerBorder)cornerBorder.style.right='';if(tooltipmenu)tooltipmenu.classList.remove('t978__tooltip-menu_show')}
var activeLinks=document.querySelectorAll('.t978__tm-link_active');Array.prototype.forEach.call(activeLinks,function(link){link.classList.remove('t978__tm-link_active')})}
function t978_addSubmenuEvents(tooltipMenu,openOnClick){var submenuLinks=tooltipMenu?tooltipMenu.querySelectorAll('.t978__menu-link'):[];submenuLinks=Array.prototype.slice.call(submenuLinks);var submenuContainer=tooltipMenu?tooltipMenu.querySelector('.t978__submenu-container'):null;var submenuWrapper=tooltipMenu?tooltipMenu.querySelectorAll('.t978__submenu-wrapper'):null;var submenuContent=tooltipMenu?tooltipMenu.querySelectorAll('.t978__submenu-content'):null;var timer;var submenuOpened=!1;var linksAndContent=submenuLinks.slice();Array.prototype.forEach.call(submenuContent,function(content){linksAndContent.push(content)});submenuLinks.forEach(function(submenuLink){submenuLink.onclick=function(e){var submenuHook=submenuLink.getAttribute('data-menu-submenu-hook');if(submenuHook){e.preventDefault();if(window.innerWidth<=980){if(submenuLink.classList.contains('t978__menu-activelink')){t978_hideSubmenu(tooltipMenu,submenuHook)}else{submenuLink.classList.add('t978__menu-activelink');t978_showSubmenu(tooltipMenu,submenuHook);clearTimeout(timer)}}}}});if(window.innerWidth<=980)return;if(openOnClick==='on'){submenuLinks.forEach(function(submenuLink){submenuLink.onclick=function(e){var submenuHook=submenuLink.getAttribute('data-menu-submenu-hook');if(!submenuHook)return;e.preventDefault();if(submenuOpened){t978_resetSubmenu(submenuLinks,submenuWrapper,submenuContainer);submenuOpened=!1}else{submenuLink.classList.add('t978__menu-activelink');t978_showSubmenu(tooltipMenu,submenuHook);submenuOpened=!0}}})}else{linksAndContent.forEach(function(element){element.onmouseover=function(e){var submenuLink=e.target.closest('.t978__menu-link');if(submenuLink&&!submenuLink.classList.contains('.t978__menu-activelink')){t978_resetSubmenu(submenuLinks,submenuWrapper,submenuContainer)}
var submenuHook=element.getAttribute('data-menu-submenu-hook');if(submenuHook){element.classList.add('t978__menu-hoverlink');t978_showSubmenu(tooltipMenu,submenuHook)}
clearTimeout(timer)};element.onmouseout=function(){var submenuHook=element.getAttribute('data-menu-submenu-hook');if(submenuHook){timer=setTimeout(function(){t978_resetSubmenu(submenuLinks,submenuWrapper,submenuContainer)},300)}}})}}
function t978_showSubmenu(tooltipMenu,submenuHook){var content=tooltipMenu?tooltipMenu.querySelector('.t978__content'):null;var submenuContainer=content?content.querySelector('.t978__submenu-container'):null;var submenuWrapper=content?content.querySelector('.t978__submenu-wrapper[data-submenu-hook="'+submenuHook+'"]'):null;var activeLink=content?content.querySelector('.t978__menu-link[data-menu-submenu-hook="'+submenuHook+'"]'):null;var activeLinkWrapper=activeLink?activeLink.parentElement:null;var menu=tooltipMenu?tooltipMenu.closest('.t228'):null;if(menu){var event=document.createEvent('Event');event.initEvent('overflow',!0,!0);menu.dispatchEvent(event)}
if(window.innerWidth<=980){if(activeLinkWrapper&&submenuWrapper){activeLinkWrapper.insertAdjacentElement('afterend',submenuWrapper)}
if(content&&(content.closest('.t280')||content.closest('.t450')||content.closest('.t451'))){if(submenuContainer)submenuContainer.classList.add('t978__submenu_show');if(submenuWrapper)submenuWrapper.classList.add('t978__submenu_show')}else{t978_slideDown(submenuWrapper)}}else{if(submenuContainer)submenuContainer.classList.add('t978__submenu_show');if(submenuWrapper)submenuWrapper.classList.add('t978__submenu_show')}}
function t978_hideSubmenu(tooltipMenu,submenuHook){var content=tooltipMenu?tooltipMenu.querySelector('.t978__content'):null;var submenuContainer=content?content.querySelector('.t978__submenu-container'):null;var submenuWrapper=content?content.querySelector('.t978__submenu-wrapper[data-submenu-hook="'+submenuHook+'"]'):null;var activeLink=content?content.querySelector('.t978__menu-link[data-menu-submenu-hook="'+submenuHook+'"]'):null;if(activeLink)activeLink.classList.remove('t978__menu-activelink');if(activeLink)activeLink.classList.remove('t978__menu-hoverlink');if(window.innerWidth<=980){if(content&&content.closest('.t280')||content&&content.closest('.t450')||content&&content.closest('.t451')){if(submenuContainer)submenuContainer.classList.remove('t978__submenu_show');if(submenuWrapper)submenuWrapper.classList.remove('t978__submenu_show')}else{t978_slideUp(submenuContainer);t978_slideUp(submenuWrapper)}}else{if(submenuContainer)submenuContainer.classList.remove('t978__submenu_show');if(submenuWrapper)submenuWrapper.classList.remove('t978__submenu_show')}}
function t978_resetSubmenu(submenuLinks,submenuWrapper,submenuContainer){Array.prototype.forEach.call(submenuLinks,function(submenuLink){submenuLink.classList.remove('t978__menu-activelink');submenuLink.classList.remove('t978__menu-hoverlink')});if(window.innerWidth<=980){t978_slideUp(submenuContainer);if(submenuWrapper.length){Array.prototype.forEach.call(submenuWrapper,function(wrapper){t978_slideUp(wrapper)})}}else{if(submenuContainer)submenuContainer.classList.remove('t978__submenu_show');if(submenuWrapper.length){Array.prototype.forEach.call(submenuWrapper,function(wrapper){wrapper.classList.remove('t978__submenu_show')})}}}
function t978_addArrow(recid,hookLinks){hookLinks=Array.prototype.slice.call(hookLinks);var rec=document.getElementById('rec'+recid);var menu=rec?rec.querySelector('.t978'):null;var isArrowAppend=menu.getAttribute('data-add-arrow');if(!isArrowAppend)return;hookLinks.forEach(function(hookLink){var arrow=document.createElement('div');arrow.classList.add('t978__arrow');hookLink.appendChild(arrow)})}
function t978_findActiveItem(){var url=window.location.href;var pathname=window.location.pathname;var hash=window.location.hash;if(url.substr(url.length-1)==='/'){url=url.slice(0,-1)}
if(pathname.substr(pathname.length-1)==='/'){pathname=pathname.slice(0,-1)}
if(pathname.charAt(0)==='/'){pathname=pathname.slice(1)}
if(pathname===''){pathname='/'}
var shouldBeActiveElements=document.querySelectorAll('a[href=\''+url+'\'].t978__menu-link, a[href=\''+url+'\'].t978__submenu-link, '+'a[href=\''+url+'/\'].t978__menu-link, a[href=\''+url+'/\'].t978__submenu-link, '+'a[href=\''+pathname+'\'].t978__menu-link, a[href=\''+pathname+'\'].t978__submenu-link, '+'a[href=\'/'+pathname+'\'].t978__menu-link, a[href=\'/'+pathname+'\'].t978__submenu-link, '+'a[href=\''+pathname+'/\'].t978__menu-link, a[href=\''+pathname+'/\'].t978__submenu-link, '+'a[href=\'/'+pathname+'/\'].t978__menu-link, a[href=\'/'+pathname+'/\'].t978__submenu-link'+(hash?', a[href=\''+hash+'\'].t978__menu-link, a[href=\''+hash+'\'].t978__submenu-link':''));Array.prototype.forEach.call(shouldBeActiveElements,function(link){link.classList.add('t-active')})}
function t978_slideUp(target,duration,callback){if(!target)return;if(!duration)duration=300;var step=target.offsetHeight*10/duration;var difference=target.offsetHeight;target.style.overflow='hidden';target.setAttribute('data-slide','y');var timerID=setInterval(function(){difference-=step;target.style.height=difference+'px';if(difference<=0){target.style.height='';target.style.overflow='';target.style.display='none';target.removeAttribute('data-slide');if(typeof callback==='function'){callback()}
clearInterval(timerID)}},10)}
function t978_slideDown(target,duration){if(!target)return;if(!duration)duration=300;target.style.display='';var newDisplayValue=window.getComputedStyle(target).display==='none'?'block':window.getComputedStyle(target).display;target.style.display=newDisplayValue;var cahsedHeight=target.offsetHeight;target.style.height='0';target.style.overflow='hidden';target.setAttribute('data-slide','y');var step=cahsedHeight*10/duration;var difference=0;var timerID=setInterval(function(){target.style.height=difference+'px';difference+=step;if(difference>=cahsedHeight){target.style.height='';target.style.overflow='';target.style.display=newDisplayValue;target.removeAttribute('data-slide');clearInterval(timerID)}},10)}
function t978_removeEl(el){var elParent=el?el.parentElement:null;if(elParent)elParent.removeChild(el)}
function t978_getValueWithoutPadding(el,value){if(!el)return 0;var elWidth=el.offsetWidth||parseInt(window.getComputedStyle(el).width,10);var elHeight=el.offsetHeight||parseInt(window.getComputedStyle(el).height,10);switch(value){case 'width':var paddingLeft=el.style.paddingLeft||parseInt(window.getComputedStyle(el).paddingLeft,10);var paddingRight=el.style.paddingLeft||parseInt(window.getComputedStyle(el).paddingRight,10);return elWidth-(paddingLeft+paddingRight);case 'height':var paddingTop=el.style.paddingTop||parseInt(window.getComputedStyle(el).paddingTop,10);var paddingBottom=el.style.paddingBottom||parseInt(window.getComputedStyle(el).paddingBottom,10);return elHeight-(paddingTop+paddingBottom)}}