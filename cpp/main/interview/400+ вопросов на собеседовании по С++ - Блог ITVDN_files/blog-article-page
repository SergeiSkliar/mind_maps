function increaseViews(n,t){const i=JSON.stringify({contentKey:n,type:t});return ITVDN.http.post("/api/view-statistics/increase-views",i,"json","application/json; charset=utf-8")}function increaseViewsUseSession(n,t){const i=n+"_"+t;let r=sessionStorage.getItem(i);if(r!=="true")return increaseViews(n,t).then(n=>sessionStorage.setItem(i,n),n)}function openPopup(n){var t=screen.width/4,i=screen.height/4,r=window.open(n,"newwin","height=420,width=550,left="+t+",top="+i)}function processShare(n,t){$.ajax({url:`/api/social/repost-${n}/${t}`,method:"POST"})}function prepareShareButtons(n){var t=$("#repostItemInfo").attr("data-id"),i;$(".fb-share").click(function(){processShare("fb",t);openPopup("https://www.facebook.com/share.php?u="+n)});$(".tweet-share").click(function(){processShare("twitter",t);var i=encodeURIComponent(document.title);let r=encodeURIComponent("ITVDN:IT video education");openPopup("https://twitter.com/intent/tweet?url="+n+"&text="+i+"&via=itvdn&related="+r)});i="https://vk.com/share.php?url="+n+"&noparse=true";$(".vk-share").click(function(){return processShare("vk",t),window.open(i,"vk_openapi","width=550,height=420,left=200,top=100,location=no, directories=no,status=no,toolbar=no,menubar=no"),!1});$(".linkedin-share").click(function(){processShare("linkedin",t);openPopup("https://www.linkedin.com/shareArticle?mini=true&url="+n)})}$(document).ready(function(){function t(t){var i,r;for(n.find(".itvdnicon-transparent-star").css({color:"#45515a"}),i=4,r=0;r<t;r++)n.find(".itvdnicon-transparent-star").eq(i).css({color:"#f3520c"}),i--}var n=$("#rating-block"),i=!1;let r=+n.attr("data-average-mark");r!=0&&t(r);n.find(".itvdnicon-transparent-star").on("click",function(){if(i||window.userIsAuthenticated==="False"){const n=ITVDN.dom,t=$("#rating-modal");n.showElement(t,"flex");return}$("#rating-modal").remove();let r={contentKey:n.attr("data-content-key"),type:n.attr("data-content-type"),mark:+$(this).attr("data-raiting")};$.ajax({type:"POST",url:"/Ratings/MakeRating",contentType:"application/json; charset=utf-8",dataType:"json",data:JSON.stringify(r),beforeSend:function(){i=!0},success:function(i){i.hasOwnProperty("AverageMark")&&i.hasOwnProperty("VotesCount")&&i.hasOwnProperty("UserMark")?(n.attr("data-average-mark",i.AverageMark),n.attr("data-user-mark",i.UserMark),n.find('span[itemprop="ratingValue"]').text(i.AverageMark),n.find('span[itemprop="ratingCount"]').text(i.VotesCount),n.find(".user-rate-block").show(),n.find(".user-rate-block > span.user-rate").text(i.UserMark),t(i.AverageMark)):i.hasOwnProperty("Succeeded")&&i.hasOwnProperty("Message")?($(".error-rating").css("display","block"),$(".error-rating").html(i.Message),$(".error-rating-webinar").css("display","block"),$(".error-rating-webinar").html(i.Message),console.error(i.Message)):($(".error-rating").css("display","block"),$(".error-rating").html(i),$(".error-rating-webinar").css("display","block"),$(".error-rating-webinar").html(i),console.error(i))},error:function(){$(".error-rating").css("display","block");$(".error-rating").html(arguments);$(".error-rating-webinar").css("display","block");$(".error-rating-webinar").html(arguments);console.error(arguments)},complete:function(){i=!1}})});n.find(".itvdnicon-transparent-star").on("mouseover",function(n){n.stopPropagation();var i=5-$(n.currentTarget).index();t(i)});n.find(".itvdnicon-transparent-star").on("mouseout",function(){t(+n.attr("data-average-mark"))})});$(document).ready(function(){var n=window.location.href,t=encodeURI(n);prepareShareButtons(t);increaseViews($("#article-id").val(),"Article")})